
<div class="image-selection">
  <!-- üìã Instruction -->
  <div class="instruction">
    <h2>√âtape 1 : S√©lection d'images</h2>
    @if (challenge) {
      <p class="challenge-text">{{ challenge.instruction }}</p>
    }
  </div>

  <!-- üñºÔ∏è Grille d'images -->
  @if (challenge) {
    <div class="image-grid">
      @for (image of challenge.images; track $index) {
        <div
          class="image-cell"
          [class.selected]="isSelected($index)"
          (click)="toggleSelection($index)"
        >
          <div class="image-content">
            {{ image }}
          </div>
          @if (isSelected($index)) {
            <div class="selection-overlay">
              <span class="checkmark">‚úì</span>
            </div>
          }
        </div>
      }
    </div>
  }

  <!-- ‚ö†Ô∏è Message d'erreur -->
  @if (showError) {
    <div class="error-message">
      {{ errorMessage }}
    </div>
  }

  <!-- ‚ÑπÔ∏è Info -->
  <div class="info">
    <p>Cliquez sur les images correspondantes, puis validez</p>
    <p class="selected-count">
      {{ selectedIndexes.length }} image(s) s√©lectionn√©e(s)
    </p>
  </div>

  <!-- ‚úÖ Bouton de validation -->
  <button
    class="validate-button"
    (click)="validate()"
    [disabled]="selectedIndexes.length === 0"
  >
    Valider la s√©lection
  </button>
</div>
