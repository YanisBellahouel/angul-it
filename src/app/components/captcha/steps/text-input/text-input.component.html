
<div class="text-input">
  <!-- ðŸ“‹ Instruction -->
  <div class="instruction">
    <h2>Ã‰tape 3 : Saisie de texte</h2>
    <p class="challenge-text">Recopiez le texte affichÃ© ci-dessous</p>
  </div>

  <!-- ðŸŽ¨ Texte dÃ©formÃ© Ã  recopier -->
  @if (challenge) {
    <div class="captcha-display">
      <div class="captcha-text">
        {{ challenge.text }}
      </div>
    </div>

    <!-- âœï¸ Champ de saisie -->
    <div class="input-container">
      <input
        type="text"
        class="text-input-field"
        [(ngModel)]="userAnswer"
        (input)="onInputChange()"
        (keypress)="onKeyPress($event)"
        placeholder="Entrez le texte ici"
        [class.error]="showError"
        autocomplete="off"
        autofocus
      />
    </div>
  }

  <!-- âš ï¸ Message d'erreur -->
  @if (showError) {
    <div class="error-message">
      {{ errorMessage }}
    </div>
  }

  <!-- â„¹ï¸ Info -->
  <div class="info">
    <p>Le texte n'est pas sensible Ã  la casse (majuscules/minuscules)</p>
    <p class="hint">ðŸ’¡ Vous pouvez aussi appuyer sur EntrÃ©e</p>
  </div>

  <!-- âœ… Bouton de validation -->
  <button
    class="validate-button"
    (click)="validate()"
    [disabled]="userAnswer.trim() === ''"
  >
    Terminer le challenge
  </button>
</div>