
<div class="result-container">
  @if (result) {
    <div class="result-card">
      <!-- ğŸ‰ En-tÃªte de succÃ¨s -->
      <div class="header">
        <div class="success-icon">
          <span class="checkmark">âœ“</span>
        </div>
        <h1>FÃ©licitations !</h1>
        <p class="subtitle">Vous avez complÃ©tÃ© le challenge avec succÃ¨s</p>
      </div>

      <!-- ğŸ“Š Statistiques -->
      <div class="stats">
        <div class="stat-card">
          <div class="stat-icon">â±ï¸</div>
          <div class="stat-value">{{ formatTime(result.timeTaken) }}</div>
          <div class="stat-label">Temps total</div>
        </div>

        <div class="stat-card">
          <div class="stat-icon">âœ…</div>
          <div class="stat-value">{{ result.stepsCompleted }}/3</div>
          <div class="stat-label">Ã‰tapes rÃ©ussies</div>
        </div>

        <div class="stat-card">
          <div class="stat-icon">ğŸ¯</div>
          <div class="stat-value">100%</div>
          <div class="stat-label">Taux de rÃ©ussite</div>
        </div>
      </div>

      <!-- âœ… DÃ©tails des Ã©tapes -->
      <div class="steps-detail">
        <h3>DÃ©tails des Ã©tapes</h3>
        <div class="steps-list">
          <div class="step-item" [class.completed]="result.details.imageChallenge">
            <span class="step-icon">ğŸ“¸</span>
            <span class="step-name">SÃ©lection d'images</span>
            <span class="step-status">
              @if (result.details.imageChallenge) {
                <span class="badge success">âœ“ RÃ©ussi</span>
              } @else {
                <span class="badge failed">âœ— Ã‰chouÃ©</span>
              }
            </span>
          </div>

          <div class="step-item" [class.completed]="result.details.mathChallenge">
            <span class="step-icon">â—</span>
            <span class="step-name">Calcul mathÃ©matique</span>
            <span class="step-status">
              @if (result.details.mathChallenge) {
                <span class="badge success">âœ“ RÃ©ussi</span>
              } @else {
                <span class="badge failed">âœ— Ã‰chouÃ©</span>
              }
            </span>
          </div>

          <div class="step-item" [class.completed]="result.details.textChallenge">
            <span class="step-icon">âœï¸</span>
            <span class="step-name">Saisie de texte</span>
            <span class="step-status">
              @if (result.details.textChallenge) {
                <span class="badge success">âœ“ RÃ©ussi</span>
              } @else {
                <span class="badge failed">âœ— Ã‰chouÃ©</span>
              }
            </span>
          </div>
        </div>
      </div>

      <!-- ğŸ® Actions -->
      <div class="actions">
        <button class="btn-primary" (click)="startNewChallenge()">
          ğŸ”„ Nouveau challenge
        </button>
        <button class="btn-secondary" (click)="goToHome()">
          ğŸ  Retour Ã  l'accueil
        </button>
      </div>

      <!-- ğŸ’¡ Message motivant -->
      <div class="message">
        <p>ğŸ‰ Vous avez prouvÃ© que vous Ãªtes humain !</p>
        <p class="sub-message">Merci d'avoir participÃ© Ã  ce challenge.</p>
      </div>
    </div>
  }
</div>
